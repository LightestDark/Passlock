<!DOCTYPE html>
<html>
<head>
    <title>Password Manager</title>
    <style>
        body {
            font-family: Arial;
            background-color: #f5f5f5;
            padding: 20px;
        }
        
        .container {
            max-width: 1100px;
            margin: 0 auto;
        }
        
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .row {
            display: flex;
            gap: 30px;
        }
        
        .col {
            flex: 1;
        }
        
        .box {
            background: white;
            border: 1px solid #ddd;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 5px;
        }
        
        h2 {
            color: #3498db;
            margin-bottom: 20px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        input, select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        
        .password-box {
            position: relative;
        }
        
        .eye-btn {
            position: absolute;
            right: 10px;
            top: 8px;
            background: none;
            border: none;
            cursor: pointer;
        }
        
        .strength {
            height: 6px;
            background: #eee;
            margin-top: 5px;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .strength-bar {
            height: 100%;
            width: 0%;
            background: red;
        }
        
        .buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        button {
            padding: 10px 20px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            flex: 1;
        }
        
        button:hover {
            background: #2980b9;
        }
        
        .gen-btn {
            background: #7f8c8d;
        }
        
        .gen-btn:hover {
            background: #6c7b7d;
        }
        
        .password-list {
            max-height: 500px;
            overflow-y: auto;
            padding-right: 5px;
        }
        
        .password-item {
            background: #f9f9f9;
            border: 1px solid #eee;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 4px;
        }
        
        .item-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .item-name {
            font-weight: bold;
            color: #2c3e50;
        }
        
        .item-cat {
            background: #ecf0f1;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 12px;
        }
        
        .item-user {
            color: #666;
            margin-bottom: 10px;
            font-size: 14px;
        }
        
        .item-pass {
            background: white;
            padding: 8px;
            border-radius: 4px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
        }
        
        .pass-text {
            font-family: monospace;
            letter-spacing: 2px;
        }
        
        .item-actions {
            display: flex;
            gap: 5px;
        }
        
        .action-btn {
            padding: 6px 12px;
            background: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
            flex: 1;
        }
        
        .show-btn {
            color: #3498db;
        }
        
        .copy-btn {
            color: #27ae60;
        }
        
        .delete-btn {
            color: #e74c3c;
        }
        
        .empty {
            text-align: center;
            padding: 40px 20px;
            color: #95a5a6;
        }
        
        .count {
            background: #3498db;
            color: white;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 14px;
        }
        
        .alert {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #27ae60;
            color: white;
            padding: 10px 20px;
            border-radius: 4px;
            display: none;
        }
        
        .alert.error {
            background: #e74c3c;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîê Password Manager</h1>
        
        <div class="row">
            <div class="col">
                <div class="box">
                    <h2>Add Password</h2>
                    
                    <div class="form-group">
                        <label>Website/Service</label>
                        <input type="text" id="website" placeholder="ex: google.com">
                    </div>
                    
                    <div class="form-group">
                        <label>Username/Email</label>
                        <input type="text" id="username" placeholder="your@email.com">
                    </div>
                    
                    <div class="form-group">
                        <label>Password</label>
                        <div class="password-box">
                            <input type="password" id="password" placeholder="enter password">
                            <button class="eye-btn" id="eyeBtn">üëÅÔ∏è</button>
                        </div>
                        <div class="strength">
                            <div class="strength-bar" id="strengthBar"></div>
                        </div>
                        <div style="font-size: 12px; margin-top: 3px;" id="strengthText">Strength: None</div>
                    </div>
                    
                    <div class="form-group">
                        <label>Category</label>
                        <select id="category">
                            <option>Social Media</option>
                            <option>Email</option>
                            <option>Banking</option>
                            <option>Shopping</option>
                            <option>Work</option>
                            <option>Other</option>
                        </select>
                    </div>
                    
                    <div class="buttons">
                        <button id="saveBtn">üíæ Save</button>
                        <button class="gen-btn" id="genBtn">üé≤ Generate</button>
                    </div>
                </div>
            </div>
            
            <div class="col">
                <div class="box">
                    <h2>Saved Passwords <span class="count" id="count">0</span></h2>
                    
                    <div class="password-list" id="list">
                        <div class="empty" id="empty">
                            <p>No passwords yet</p>
                            <p>Add one using the form</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="alert" id="alert">Message</div>

    <script>
        // Get elements
        const website = document.getElementById('website');
        const username = document.getElementById('username');
        const password = document.getElementById('password');
        const category = document.getElementById('category');
        const saveBtn = document.getElementById('saveBtn');
        const genBtn = document.getElementById('genBtn');
        const eyeBtn = document.getElementById('eyeBtn');
        const list = document.getElementById('list');
        const empty = document.getElementById('empty');
        const count = document.getElementById('count');
        const strengthBar = document.getElementById('strengthBar');
        const strengthText = document.getElementById('strengthText');
        const alert = document.getElementById('alert');
        
        // Toggle password visibility
        eyeBtn.addEventListener('click', function() {
            if (password.type === 'password') {
                password.type = 'text';
                eyeBtn.textContent = 'üôà';
            } else {
                password.type = 'password';
                eyeBtn.textContent = 'üëÅÔ∏è';
            }
        });
        
        // Check password strength
        password.addEventListener('input', function() {
            let score = 0;
            let p = this.value;
            
            if (p.length >= 8) score++;
            if (p.length >= 12) score++;
            if (/[a-z]/.test(p)) score++;
            if (/[A-Z]/.test(p)) score++;
            if (/[0-9]/.test(p)) score++;
            if (/[^a-z0-9]/i.test(p)) score++;
            
            let color = 'red';
            let text = 'Weak';
            
            if (score > 4) {
                color = 'green';
                text = 'Strong';
            } else if (score > 2) {
                color = 'orange';
                text = 'Medium';
            }
            
            strengthBar.style.width = (score * 16.66) + '%';
            strengthBar.style.backgroundColor = color;
            strengthText.textContent = 'Strength: ' + text;
            strengthText.style.color = color;
        });
        
        // Generate password
        genBtn.addEventListener('click', function() {
            const chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%';
            let pass = '';
            
            // Make sure we get different types
            pass += getRandom('abcdefghijklmnopqrstuvwxyz');
            pass += getRandom('ABCDEFGHIJKLMNOPQRSTUVWXYZ');
            pass += getRandom('0123456789');
            pass += getRandom('!@#$%');
            
            // Add more random
            for (let i = 0; i < 10; i++) {
                pass += chars[Math.floor(Math.random() * chars.length)];
            }
            
            // Shuffle
            pass = pass.split('').sort(() => Math.random() - 0.5).join('');
            
            password.value = pass;
            
            // Update strength
            let event = new Event('input');
            password.dispatchEvent(event);
        });
        
        function getRandom(str) {
            return str[Math.floor(Math.random() * str.length)];
        }
        
        // Save password
        saveBtn.addEventListener('click', function() {
            let web = website.value.trim();
            let user = username.value.trim();
            let pass = password.value.trim();
            let cat = category.value;
            
            if (!web || !user || !pass) {
                showAlert('Please fill all fields', 'error');
                return;
            }
            
            // Get from localStorage
            let passwords = JSON.parse(localStorage.getItem('passwords')) || [];
            
            // Add new one
            passwords.push({
                id: Date.now(),
                website: web,
                username: user,
                password: pass,
                category: cat,
                date: new Date().toLocaleDateString()
            });
            
            // Save back
            localStorage.setItem('passwords', JSON.stringify(passwords));
            
            // Update list
            updateList();
            
            // Clear form
            website.value = '';
            username.value = '';
            password.value = '';
            category.value = 'Social Media';
            
            // Reset strength
            strengthBar.style.width = '0%';
            strengthText.textContent = 'Strength: None';
            strengthText.style.color = '#666';
            
            showAlert('Password saved!');
        });
        
        // Update password list
        function updateList() {
            let passwords = JSON.parse(localStorage.getItem('passwords')) || [];
            
            // Update count
            count.textContent = passwords.length;
            
            // Clear list
            list.innerHTML = '';
            
            if (passwords.length === 0) {
                list.appendChild(empty);
                return;
            }
            
            // Sort by website name
            passwords.sort((a, b) => a.website.localeCompare(b.website));
            
            // Add each
            passwords.forEach(p => {
                let item = document.createElement('div');
                item.className = 'password-item';
                
                item.innerHTML = `
                    <div class="item-header">
                        <div class="item-name">${p.website}</div>
                        <div class="item-cat">${p.category}</div>
                    </div>
                    <div class="item-user">${p.username}</div>
                    <div class="item-pass">
                        <span class="pass-text" id="pass-${p.id}">‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢</span>
                        <button class="action-btn show-btn" onclick="togglePass(${p.id})">Show</button>
                    </div>
                    <div class="item-actions">
                        <button class="action-btn copy-btn" onclick="copyPass(${p.id})">Copy</button>
                        <button class="action-btn delete-btn" onclick="deletePass(${p.id})">Delete</button>
                    </div>
                `;
                
                list.appendChild(item);
            });
        }
        
        // Toggle password show/hide
        function togglePass(id) {
            let passwords = JSON.parse(localStorage.getItem('passwords')) || [];
            let pass = passwords.find(p => p.id === id);
            
            if (!pass) return;
            
            let elem = document.getElementById('pass-' + id);
            let btn = elem.nextElementSibling;
            
            if (elem.textContent === '‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢') {
                elem.textContent = pass.password;
                btn.textContent = 'Hide';
                
                // Auto hide after 5 sec
                setTimeout(() => {
                    if (elem.textContent !== '‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢') {
                        elem.textContent = '‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢';
                        btn.textContent = 'Show';
                    }
                }, 5000);
            } else {
                elem.textContent = '‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢';
                btn.textContent = 'Show';
            }
        }
        
        // Copy password
        function copyPass(id) {
            let passwords = JSON.parse(localStorage.getItem('passwords')) || [];
            let pass = passwords.find(p => p.id === id);
            
            if (!pass) return;
            
            navigator.clipboard.writeText(pass.password).then(() => {
                showAlert('Copied to clipboard!');
            }).catch(err => {
                showAlert('Failed to copy', 'error');
            });
        }
        
        // Delete password
        function deletePass(id) {
            if (!confirm('Delete this password?')) return;
            
            let passwords = JSON.parse(localStorage.getItem('passwords')) || [];
            passwords = passwords.filter(p => p.id !== id);
            
            localStorage.setItem('passwords', JSON.stringify(passwords));
            updateList();
            
            showAlert('Password deleted');
        }
        
        // Show alert
        function showAlert(msg, type = 'success') {
            alert.textContent = msg;
            alert.className = 'alert ' + (type === 'error' ? 'error' : '');
            alert.style.display = 'block';
            
            setTimeout(() => {
                alert.style.display = 'none';
            }, 3000);
        }
        
        // Start
        window.onload = function() {
            updateList();
        };
    </script>
</body>
</html>
